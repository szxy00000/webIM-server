(self.webpackChunk_ice_lite_scaffold=self.webpackChunk_ice_lite_scaffold||[]).push([[767,662,300],{2083(e){e.exports={layout:"layout--kNn9C7Ct",text:"text--pnnBaN6_",inputarea:"inputarea--C2WL8BFw",msg:"msg--svFg5N_e",user:"user--fZDl3iil",icon:"icon--lNPGRaae",nick:"nick--hwqZK3P1",content:"content--AsvaASbZ"}},9054(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>w});var a=n(6042),i=n(9396),c=n(253),o=n(4820),l=n(7294),s=n(8907),r=n(5236),u=n(4828),d=n(4993),h=n(400),f=n(9796),Z=n(2083),m=n.n(Z),p=n(9901),g=n(6702),k=n(3477),v=n(4317),y=function(e,t){v.Z.post("http://localhost:7777/chat",{user:{id:t,nick:"\u533F\u540D\u7528\u6237",icon:"https://img.alicdn.com/imgextra/i4/O1CN01JGYv9V1s1rBNshgTz_!!6000000005707-0-tps-1170-874.jpg"},content:e})},N=d.Z.Header,b=d.Z.Content,C=(d.Z.Footer,d.Z.Sider),B=(0,p.io)("ws://localhost:7777"),_=+new Date;let w=function(){var e=h.Z.useToken().token.colorBgContainer,t=(0,c.Z)((0,l.useState)([]),2),n=t[0],Z=t[1];return(0,l.useEffect)(function(){v.Z.get("http://localhost:7777/chatHistory?query=".concat(encodeURIComponent("{list{content user{nick icon}}}"))).then(function(e){return e.data.data.list}).then(Z),B.on("sync",function(e){Z(function(t){return t.concat([(0,i.Z)((0,a.Z)({},e),{isMine:e.user.id===_})])})})},[]),(0,o.BX)(d.Z,{className:m().layout,children:[(0,o.BX)(C,{breakpoint:"lg",collapsedWidth:"0",onBreakpoint:function(e){console.log(e)},onCollapse:function(e,t){console.log(e,t)},children:[(0,o.tZ)("div",{className:"logo"}),(0,o.tZ)(f.Z,{theme:"dark",mode:"inline",defaultSelectedKeys:["4"],items:[s.Z,r.Z,u.Z,s.Z].map(function(e,t){return{key:String(t+1),icon:l.createElement(e),label:"nav ".concat(t+1)}})})]}),(0,o.BX)(d.Z,{children:[(0,o.tZ)(N,{style:{padding:0,background:e}}),(0,o.BX)(b,{style:{margin:"24px 16px 0"},children:[(0,o.tZ)("div",{className:m().list,style:{padding:24,height:400,background:e,overflow:"auto"},children:(0,o.tZ)(k.default,{list:n})}),(0,o.tZ)("div",{className:m().text,style:{padding:24,minHeight:240,background:e},children:(0,o.tZ)(g.default,{onChat:function(e){return y(e,_)}})})]})]})]})}},3477(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(4820);n(7294);var i=n(2083),c=n.n(i);let o=function(e){return(0,a.tZ)("div",{className:c().list,children:e.list.map(function(e){return(0,a.BX)("div",{className:c().msg,style:{direction:e.isMine?"rtl":"ltr"},children:[(0,a.BX)("div",{className:c().user,children:[(0,a.tZ)("img",{className:c().icon,src:e.user.icon}),(0,a.tZ)("div",{className:c().nick,children:e.user.nick})]}),(0,a.tZ)("div",{className:c().content,children:e.content})]},e._id)})})}},6702(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(4820);n(7294);var i=n(9716),c=n(2083),o=n.n(c);let l=function(e){return(0,a.tZ)(i.Z,{className:o().inputarea,rows:3,placeholder:"You can use @ to ref user here",onKeyDown:function(t){13===t.keyCode&&e.onChat(t.target.value)},options:[{value:"afc163",label:"afc163"},{value:"zombieJ",label:"zombieJ"},{value:"yesmeck",label:"yesmeck"}]})}}}]);